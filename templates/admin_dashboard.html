{% extends 'base.html' %}

{% block content %}
<h2>管理员仪表盘</h2>
<div class="user-dashboard">
    <h3>待审核的文章</h3>
    {% for post in pending_posts %}
        <div class="post" onclick="window.location.href='{{ url_for('post', post_id=post.id) }}'">
            <h4 class="post-title">{{ post.title }}</h4>
            <p class="post-content">{{ post.content[:100] }}...</p>
            <p class="post-author-category"><strong>作者:</strong> {{ post.author }}</p>
            <p class="post-author-category"><strong>类别:</strong> {{ post.category }}</p>
            <a href="{{ url_for('approve_post', post_id=post.id) }}" class="btn approval-btn">审核通过</a>
            <a href="{{ url_for('edit_post', post_id=post.id) }}" class="btn">编辑</a>
            <a href="{{ url_for('delete_post', post_id=post.id) }}" class="btn">删除</a>
        </div>
    {% endfor %}
</div>
<div class="user-dashboard">
    <h3>已上架的文章</h3>
    {% for post in approved_posts %}
        <div class="post" onclick="window.location.href='{{ url_for('post', post_id=post.id) }}'">
            <h4 class="post-title">{{ post.title }}</h4>
            <p class="post-content">{{ post.content[:100] }}...</p>
            <p class="post-author-category"><strong>作者:</strong> {{ post.author }}</p>
            <p class="post-author-category"><strong>类别:</strong> {{ post.category }}</p>
            <a href="{{ url_for('edit_post', post_id=post.id) }}" class="btn">编辑</a>
            <a href="{{ url_for('delete_post', post_id=post.id) }}" class="btn">删除</a>
        </div>
    {% endfor %}
</div>
{% endblock %}
